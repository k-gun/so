/**
 * @name: so.ext.slide
 * @deps: so, so.dom, so.animate
 */

!function(t){function i(i){this.box=t.dom(i.box),this.boxWidth=this.box.outerWidth(!0),this.boxlay=t.dom(i.boxlay),this.boxlayWidth=this.box.length*this.boxWidth,this.boxlay.setStyle({position:"relative",width:this.boxlayWidth}),this.animating=!1,i&&(this.options=t.mix({},o,i))}var o={speed:350,easing:"",noPrev:"reset",noNext:"reset",visibleBoxes:1};t.extend(i.prototype,{prev:function(){if(!(this.animating||this.box.length<2)){var t=parseFloat(this.boxlay.getStyle("left"))||0;if(Math.abs(t)<=0){var i=this.options.noPrev;if("return"==i)return;"reset"==i&&(t=-(this.boxlayWidth-this.boxWidth*this.options.visibleBoxes))}else t+=this.boxWidth*this.options.visibleBoxes,t>=0&&(t=0);this.animating=!0;var o=this;this.boxlay.animate({left:t},this.options.speed,function(){o.animating=!1},this.options.easing)}},next:function(){if(!(this.animating||this.box.length<2)){var t=parseFloat(this.boxlay.getStyle("left"))||0,i=this.boxlayWidth-this.boxWidth*this.options.visibleBoxes;if(Math.abs(t)>=i){var o=this.options.noNext;if("return"==o)return;"reset"==o&&(t=0)}else t-=this.boxWidth*this.options.visibleBoxes,Math.abs(t)>=i&&(t=-i);this.animating=!0;var s=this;this.boxlay.animate({left:t},this.options.speed,function(){s.animating=!1},this.options.easing)}},listen:function(){var i=this;t.dom(this.options.prevBtn).on("click",function(){i.prev()}),t.dom(this.options.nextBtn).on("click",function(){i.next()})},setOption:function(t,i){this.options[t]=i},getOption:function(t){return this.options[t]}}),t.ext.slide=function(o){if(t.isEmpty(o))throw"Options could not be empty!";return new i(o)}}(so);
