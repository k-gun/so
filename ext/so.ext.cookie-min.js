/**
 * @name: so.ext.cookie
 * @deps: so
 * @vers: 1.0.0
 * @cred: https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie
 */

!function(e){var n={getItem:function(e){return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,n,t,o,i,r){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var c="";if(t)switch(t.constructor){case Number:c=1/0===t?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+t;break;case String:c="; expires="+t;break;case Date:c="; expires="+t.toUTCString()}var s=encodeURIComponent(e)+"="+encodeURIComponent(n)+c+(i?"; domain="+i:"")+(o?"; path="+o:"")+(r?"; secure":"");return document.cookie=s,!0},removeItem:function(e,n,t){return e&&this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(t?"; domain="+t:"")+(n?"; path="+n:""),!0):!1},hasItem:function(e){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),n=0;n<e.length;n++)e[n]=decodeURIComponent(e[n]);return e}};e.ext.cookie={expiryTimes:{"-1":-1,"1 hour":3600,"1 day":86400,"1 week":604800,"1 month":2592e3,"1 year":31536e3},options:{expires:0,path:"/",domain:null,secure:!1},set:function(t,o,i){i=e.mix({},this.options,i),n.setItem(t,o,this.expiryTimes[i.expires],i.path,i.domain,i.secure)},get:function(n){if(document.cookie.length>0){var t,o,i,r=document.cookie.split("; "),c=new RegExp("^"+e.trim(n)+"=([^;]*)");for(i=0;t=r[i];i++)if(o=t.match(c),o&&o[1])return unescape(o[1])}return null},remove:function(t,o){o=e.mix({},this.options,o),n.removeItem(t,o.path,o.domain)},check:function(e){return null!=this.get(e)}}}(so);
